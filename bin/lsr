#!/bin/bash

# Recurvisely list files, ignoring gitignored files if inside a Git repository.
#

if git rev-parse --git-dir > /dev/null 2>&1; then
	if [ $# -eq 0 ]; then
		git ls-files
	elif [ $# -eq 1 ]; then
		git ls-files "$1"
	fi
else
	if [ $# -eq 0 ]; then
		find . -printf '%P\n'
	else
		find "$1" -printf '%P\n'
	fi
fi
